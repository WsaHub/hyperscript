(function(){function e(e,t){for(var n in t){if(t.hasOwnProperty(n)){e[n]=t[n]}}return e}var t=this._hyperscript;t.addCommand("settle",(function(e,t,n){if(n.matchToken("settle")){if(!e.commandBoundary(n.currentToken())){var r=e.requireElement("expression",n)}else{var r=e.requireElement("implicitMeTarget",n)}var i={type:"settleCmd",args:[r],op:function(e,n){var r=null;var a=false;var o=false;var s=new Promise((function(e){r=e}));n.addEventListener("transitionstart",(function(){o=true}),{once:true});setTimeout((function(){if(!o&&!a){r(t.findNext(i,e))}}),500);n.addEventListener("transitionend",(function(){if(!a){r(t.findNext(i,e))}}),{once:true});return s},execute:function(e){return t.unifiedExec(this,e)}};return i}}));t.addCommand("add",(function(e,t,n){if(n.matchToken("add")){var r=e.parseElement("classRef",n);var i=null;var a=null;if(r==null){i=e.parseElement("attributeRef",n);if(i==null){a=e.parseElement("styleLiteral",n);if(a==null){e.raiseParseError(n,"Expected either a class reference or attribute expression")}}}else{var o=[r];while(r=e.parseElement("classRef",n)){o.push(r)}}if(n.matchToken("to")){var s=e.requireElement("expression",n)}else{var s=e.parseElement("implicitMeTarget",n)}if(o){return{classRefs:o,to:s,args:[s,o],op:function(e,n,r){t.forEach(r,(function(e){t.forEach(n,(function(t){if(t instanceof Element)t.classList.add(e.className)}))}));return t.findNext(this,e)}}}else if(i){return{type:"addCmd",attributeRef:i,to:s,args:[s],op:function(e,n,r){t.forEach(n,(function(e){e.setAttribute(i.name,i.value)}));return t.findNext(this,e)},execute:function(e){return t.unifiedExec(this,e)}}}else{return{type:"addCmd",cssDeclaration:a,to:s,args:[s,a],op:function(e,n,r){t.forEach(n,(function(e){e.style.cssText+=r}));return t.findNext(this,e)},execute:function(e){return t.unifiedExec(this,e)}}}}}));t.internals.parser.addGrammarElement("styleLiteral",(function(e,t,n){if(!n.matchOpToken("{"))return;var r=[""];var i=[];while(n.hasMore()){if(n.matchOpToken("\\")){n.consumeToken()}else if(n.matchOpToken("}")){break}else if(n.matchToken("$")){var a=n.matchOpToken("{");var o=e.parseElement("expression",n);if(a)n.requireOpToken("}");i.push(o);r.push("")}else{var s=n.consumeToken();r[r.length-1]+=n.source.substring(s.start,s.end)}r[r.length-1]+=n.lastWhitespace()}return{type:"styleLiteral",args:[i],op:function(e,t){var n="";r.forEach((function(e,r){n+=e;if(r in t)n+=t[r]}));return n},evaluate:function(e){return t.unifiedEval(this,e)}}}));t.addCommand("remove",(function(e,t,n){if(n.matchToken("remove")){var r=e.parseElement("classRef",n);var i=null;var a=null;if(r==null){i=e.parseElement("attributeRef",n);if(i==null){a=e.parseElement("expression",n);if(a==null){e.raiseParseError(n,"Expected either a class reference, attribute expression or value expression")}}}else{var o=[r];while(r=e.parseElement("classRef",n)){o.push(r)}}if(n.matchToken("from")){var s=e.requireElement("expression",n)}else{var s=e.requireElement("implicitMeTarget",n)}if(a){return{elementExpr:a,from:s,args:[a],op:function(e,n){t.forEach(n,(function(e){if(e.parentElement){e.parentElement.removeChild(e)}}));return t.findNext(this,e)}}}else{return{classRefs:o,attributeRef:i,elementExpr:a,from:s,args:[o,s],op:function(e,n,r){if(n){t.forEach(n,(function(e){t.implicitLoop(r,(function(t){t.classList.remove(e.className)}))}))}else{t.forEach(r,(function(e){e.removeAttribute(i.name)}))}return t.findNext(this,e)}}}}}));t.addCommand("toggle",(function(e,t,n){if(n.matchToken("toggle")){if(n.matchToken("between")){var r=true;var i=e.parseElement("classRef",n);n.requireToken("and");var a=e.requireElement("classRef",n)}else{var i=e.parseElement("classRef",n);var o=null;if(i==null){o=e.parseElement("attributeRef",n);if(o==null){e.raiseParseError(n,"Expected either a class reference or attribute expression")}}else{var s=[i];while(i=e.parseElement("classRef",n)){s.push(i)}}}if(n.matchToken("on")){var l=e.requireElement("expression",n)}else{var l=e.requireElement("implicitMeTarget",n)}if(n.matchToken("for")){var u=e.requireElement("timeExpression",n)}else if(n.matchToken("until")){var f=e.requireElement("dotOrColonPath",n,"Expected event name");if(n.matchToken("from")){var c=e.requireElement("expression",n)}}var m={classRef:i,classRef2:a,classRefs:s,attributeRef:o,on:l,time:u,evt:f,from:c,toggle:function(e,n,i,a){if(r){t.forEach(e,(function(e){if(e.classList.contains(n.className)){e.classList.remove(n.className);e.classList.add(i.className)}else{e.classList.add(n.className);e.classList.remove(i.className)}}))}else if(a){t.forEach(a,(function(n){t.forEach(e,(function(e){e.classList.toggle(n.className)}))}))}else{t.forEach(e,(function(e){if(e.hasAttribute(o.name)){e.removeAttribute(o.name)}else{e.setAttribute(o.name,o.value)}}))}},args:[l,u,f,c,i,a,s],op:function(e,n,r,i,a,o,s,l){if(r){return new Promise((function(i){m.toggle(n,o,s,l);setTimeout((function(){m.toggle(n,o,s,l);i(t.findNext(m,e))}),r)}))}else if(i){return new Promise((function(r){var u=a||e.me;u.addEventListener(i,(function(){m.toggle(n,o,s,l);r(t.findNext(m,e))}),{once:true});m.toggle(n,o,s,l)}))}else{this.toggle(n,o,s,l);return t.findNext(m,e)}}};return m}}));var n={display:function(e,t,n){if(n){t.style.display=n}else if(e==="hide"){t.style.display="none"}else{t.style.display="block"}},visibility:function(e,t,n){if(n){t.style.visibility=n}else if(e==="hide"){t.style.visibility="hidden"}else{t.style.visibility="visible"}},opacity:function(e,t,n){if(n){t.style.opacity=n}else if(e==="hide"){t.style.opacity="0"}else{t.style.opacity="1"}}};var r=function(e,t,n){var r;var i=n.currentToken();if(i.value==="with"||e.commandBoundary(i)){r=e.parseElement("implicitMeTarget",n)}else{r=e.parseElement("expression",n)}return r};var i=function(r,i,a){var o=t.config.defaultHideShowStrategy;var s=n;if(t.config.hideShowStrategies){s=e(s,t.config.hideShowStrategies)}a=a||o||"display";var l=s[a];if(l==null){r.raiseParseError(i,"Unknown show/hide strategy : "+a)}return l};t.addCommand("hide",(function(e,t,n){if(n.matchToken("hide")){var a=r(e,t,n);var o=null;if(n.matchToken("with")){o=n.requireTokenType("IDENTIFIER").value}var s=i(e,n,o);return{target:a,args:[a],op:function(e,n){t.forEach(n,(function(e){s("hide",e)}));return t.findNext(this,e)}}}}));t.addCommand("show",(function(e,t,n){if(n.matchToken("show")){var a=r(e,t,n);var o=null;if(n.matchToken("with")){o=n.requireTokenType("IDENTIFIER").value}var s=null;if(n.matchOpToken(":")){var l=n.consumeUntilWhitespace();n.matchTokenType("WHITESPACE");s=l.map((function(e){return e.value})).join("")}var u=i(e,n,o);return{target:a,args:[a],op:function(e,n){t.forEach(n,(function(e){u("show",e,s)}));return t.findNext(this,e)}}}}));t.addCommand("trigger",(function(e,t,n){if(n.matchToken("trigger")){var r=e.requireElement("eventName",n);var i=e.parseElement("namedArgumentList",n);var a={eventName:r,details:i,args:[r,i],op:function(e,n,r){t.triggerEvent(e.me,n,r?r:{});return t.findNext(a,e)}};return a}}));t.addCommand("take",(function(e,t,n){if(n.matchToken("take")){var r=e.parseElement("classRef",n);if(n.matchToken("from")){var i=e.requireElement("expression",n)}else{var i=r}if(n.matchToken("for")){var a=e.requireElement("expression",n)}else{var a=e.requireElement("implicitMeTarget",n)}var o={classRef:r,from:i,forElt:a,args:[r,i,a],op:function(e,n,r,i){var a=n.className;t.forEach(r,(function(e){e.classList.remove(a)}));t.forEach(i,(function(e){e.classList.add(a)}));return t.findNext(this,e)}};return o}}));function a(e,n,r,i){if(r){var a=e.resolveSymbol(r,n)}else{var a=n}if(a instanceof Element||a instanceof HTMLDocument){while(a.firstChild)a.removeChild(a.firstChild);a.append(t.internals.runtime.convertValue(i,"Fragment"))}else{if(r){e.setSymbol(r,n,null,i)}else{throw"Don't know how to put a value into "+typeof n}}}t.addCommand("put",(function(e,t,n){if(n.matchToken("put")){var r=e.requireElement("expression",n);var i=n.matchAnyToken("into","before","after");if(i==null&&n.matchToken("at")){n.matchToken("the");i=n.matchAnyToken("start","end");n.requireToken("of")}if(i==null){e.raiseParseError(n,"Expected one of 'into', 'before', 'at start of', 'at end of', 'after'")}var o=e.requireElement("expression",n);var s=i.value;var l=false;var u=null;var f=null;if(o.prop&&o.root&&s==="into"){f=o.prop.value;u=o.root}else if(o.type==="symbol"&&s==="into"){l=true;f=o.name}else if(o.type==="attributeRef"&&s==="into"){var c=true;f=o.name;u=e.requireElement("implicitMeTarget",n)}else if(o.type==="attributeRefAccess"&&s==="into"){var c=true;f=o.attribute.name;u=o.root}else{u=o}var m={target:o,operation:s,symbolWrite:l,value:r,args:[u,r],op:function(e,n,r){if(l){a(t,e,f,r)}else{if(s==="into"){if(c){t.implicitLoop(n,(function(e){e.setAttribute(f,r)}))}else{t.implicitLoop(n,(function(e){a(t,e,f,r)}))}}else{var i=s==="before"?Element.prototype.before:s==="after"?Element.prototype.after:s==="start"?Element.prototype.prepend:s==="end"?Element.prototype.append:Element.prototype.append;t.implicitLoop(n,(function(e){i.call(e,r instanceof Node?r:t.convertValue(r,"Fragment"))}))}}return t.findNext(this,e)}};return m}}));function o(e,t,n){var r;if(n.matchToken("the")||n.matchToken("element")||n.matchToken("elements")||n.currentToken().type==="CLASS_REF"||n.currentToken().type==="ID_REF"||n.currentToken().op&&n.currentToken().value==="<"){e.possessivesDisabled=true;try{r=e.parseElement("expression",n)}finally{delete e.possessivesDisabled}if(n.matchOpToken("'")){n.requireToken("s")}}else if(n.currentToken().type==="IDENTIFIER"&&n.currentToken().value==="its"){var i=n.matchToken("its");r={type:"pseudopossessiveIts",token:i,name:i.value,evaluate:function(e){return t.resolveSymbol("it",e)}}}else{n.matchToken("my")||n.matchToken("me");r=e.parseElement("implicitMeTarget",n)}return r}t.addCommand("transition",(function(e,n,r){if(r.matchToken("transition")){var i=o(e,n,r);var a=[];var s=[];var l=[];var u=r.currentToken();while(!e.commandBoundary(u)&&u.value!=="over"&&u.value!=="using"){a.push(e.requireElement("stringLike",r));if(r.matchToken("from")){s.push(e.requireElement("stringLike",r))}else{s.push(null)}r.requireToken("to");l.push(e.requireElement("stringLike",r));u=r.currentToken()}if(r.matchToken("over")){var f=e.requireElement("timeExpression",r)}else if(r.matchToken("using")){var c=e.requireElement("expression",r)}var m={to:l,args:[i,a,s,l,c,f],op:function(e,r,i,a,o,s,l){var u=[];n.forEach(r,(function(e){var r=new Promise((function(r,u){var f=e.style.transition;if(l){e.style.transition="all "+l+"ms ease-in"}else if(s){e.style.transition=s}else{e.style.transition=t.config.defaultTransition}var c=n.getInternalData(e);var m=getComputedStyle(e);var v={};for(var p=0;p<m.length;p++){var d=m[p];var h=m[d];v[d]=h}if(!c.initalStyles){c.initalStyles=v}for(var p=0;p<i.length;p++){var E=i[p];var T=a[p];if(T=="computed"||T==null){e.style[E]=v[E]}else{e.style[E]=T}}setTimeout((function(){var t=[];for(var n=0;n<i.length;n++){var a=i[n];var s=o[n];if(s=="initial"){var l=c.initalStyles[a];e.style[a]=l}else{e.style[a]=s}}e.addEventListener("transitionend",(function(){e.style.transition=f;r()}),{once:true})}),5)}));u.push(r)}));return Promise.all(u).then((function(){return n.findNext(m,e)}))}};return m}}));t.addCommand("measure",(function(e,t,n){if(!n.matchToken("measure"))return;var r=o(e,t,n);var i=[];if(!e.commandBoundary(n.currentToken()))do{i.push(n.matchTokenType("IDENTIFIER").value)}while(n.matchOpToken(","));return{properties:i,args:[r],op:function(e,n){if(0 in n)n=n[0];var r=n.getBoundingClientRect();var a={top:n.scrollTop,left:n.scrollLeft,topMax:n.scrollTopMax,leftMax:n.scrollLeftMax,height:n.scrollHeight,width:n.scrollWidth};e.result={x:r.x,y:r.y,left:r.left,top:r.top,right:r.right,bottom:r.bottom,width:r.width,height:r.height,bounds:r,scrollLeft:a.left,scrollTop:a.top,scrollLeftMax:a.leftMax,scrollTopMax:a.topMax,scrollWidth:a.width,scrollHeight:a.height,scroll:a};t.forEach(i,(function(t){if(t in e.result)e[t]=e.result[t];else throw"No such measurement as "+t}));return t.findNext(this,e)}}}));t.addLeafExpression("closestExpr",(function(e,t,n){if(n.matchToken("closest")){if(n.matchToken("parent")){var r=true}var i=null;if(n.currentToken().type==="ATTRIBUTE_REF"){var a=e.parseElement("attributeRefAccess",n,null);i="["+a.attribute.name+"]"}if(i==null){var o=e.parseElement("expression",n);if(o.css==null){e.raiseParseError(n,"Expected a CSS expression")}else{i=o.css}}if(n.matchToken("to")){var s=e.parseElement("expression",n)}else{var s=e.parseElement("implicitMeTarget",n)}var l={type:"closestExpr",parentSearch:r,expr:o,css:i,to:s,args:[s],op:function(e,t){if(t==null||!(t instanceof Element)){return null}else{if(r){var n=t.parentElement?t.parentElement.closest(i):null}else{var n=t.closest(i)}return n}},evaluate:function(e){return t.unifiedEval(this,e)}};if(a){a.root=l;a.args=[l];return a}else{return l}}}));t.addCommand("go",(function(e,t,n){if(n.matchToken("go")){if(n.matchToken("back")){var r=true}else{n.matchToken("to");if(n.matchToken("url")){var i=e.requireElement("stringLike",n);var a=true;if(n.matchToken("in")){n.requireToken("new");n.requireToken("window");var o=true}}else{n.matchToken("the");var s=n.matchAnyToken("top","bottom","middle");var l=n.matchAnyToken("left","center","right");if(s||l){n.requireToken("of")}var i=e.requireElement("expression",n);var u=n.matchAnyToken("smoothly","instantly");var f={};if(s){if(s.value==="top"){f.block="start"}else if(s.value==="bottom"){f.block="end"}else if(s.value==="middle"){f.block="center"}}if(l){if(l.value==="left"){f.inline="start"}else if(l.value==="center"){f.inline="center"}else if(l.value==="right"){f.inline="end"}}if(u){if(u.value==="smoothly"){f.behavior="smooth"}else if(u.value==="instantly"){f.behavior="instant"}}}}var c={target:i,args:[i],op:function(e,n){if(r){window.history.back()}else if(a){if(n){if(n.indexOf("#")===0&&!o){window.location.href=n}else{window.open(n,o?"_blank":null)}}}else{t.forEach(n,(function(e){e.scrollIntoView(f)}))}return t.findNext(c)}};return c}}));t.config.conversions["Values"]=function(e){var n={};var r=t.internals.runtime.implicitLoop;r(e,(function(e){var t=a(e);if(t!==undefined){n[t.name]=t.value;return}if(e.querySelectorAll!=undefined){var r=e.querySelectorAll("input,select,textarea");r.forEach(i)}}));return n;function i(e){var t=a(e);if(t==undefined){return}if(n[t.name]==undefined){n[t.name]=t.value;return}if(Array.isArray(n[t.name])&&Array.isArray(t.value)){n[t.name]=[].concat(n[t.name],t.value);return}}function a(e){try{var t={name:e.name,value:e.value};if(t.name==undefined||t.value==undefined){return undefined}if(e.type=="radio"&&e.checked==false){return undefined}if(e.type=="checkbox"){if(e.checked==false){t.value=undefined}else if(typeof t.value==="string"){t.value=[t.value]}}if(e.type=="select-multiple"){var n=e.querySelectorAll("option[selected]");t.value=[];for(var r=0;r<n.length;r++){t.value.push(n[r].value)}}return t}catch(e){return undefined}}};t.config.conversions["HTML"]=function(e){var t=function(e){if(e instanceof Array){return e.map((function(e){return t(e)})).join("")}if(e instanceof HTMLElement){return e.outerHTML}if(e instanceof NodeList){var n="";for(var r=0;r<e.length;r++){var i=e[r];if(i instanceof HTMLElement){n+=i.outerHTML}}return n}if(e.toString){return e.toString()}return""};return t(e)};t.config.conversions["Fragment"]=function(e){var n=document.createDocumentFragment();t.internals.runtime.implicitLoop(e,(function(e){if(e instanceof Node)n.append(e);else{var t=document.createElement("template");t.innerHTML=e;n.append(t.content)}}));return n}})();